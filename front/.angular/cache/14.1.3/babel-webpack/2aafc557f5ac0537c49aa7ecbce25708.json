{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/session.service\";\nimport * as i2 from \"../../services/rentals.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/flex-layout/flex\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"../../../../shared/components/owner-info/owner-info.component\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/material/card\";\nimport * as i9 from \"@angular/material/icon\";\n\nconst _c0 = function (a1) {\n  return [\"update\", a1];\n};\n\nfunction ListComponent_mat_card_11_button_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 10)(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 4);\n    i0.ɵɵtext(4, \"Edit\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const rental_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(1, _c0, rental_r1.id));\n  }\n}\n\nconst _c1 = function (a1) {\n  return [\"detail\", a1];\n};\n\nfunction ListComponent_mat_card_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 7)(1, \"mat-card-header\")(2, \"mat-card-title\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-card-subtitle\");\n    i0.ɵɵelement(5, \"app-owner-info\", 8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(6, \"img\", 9);\n    i0.ɵɵelementStart(7, \"mat-card-content\")(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"mat-card-actions\")(11, \"button\", 10)(12, \"mat-icon\");\n    i0.ɵɵtext(13, \"search\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"span\", 4);\n    i0.ɵɵtext(15, \"Detail\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(16, ListComponent_mat_card_11_button_16_Template, 5, 3, \"button\", 11);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const rental_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(rental_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ownerId\", rental_r1.owner_id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", rental_r1.picture, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", rental_r1.description, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(6, _c1, rental_r1.id));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", rental_r1.owner_id === (ctx_r0.user == null ? null : ctx_r0.user.id));\n  }\n}\n\nexport class ListComponent {\n  constructor(sessionService, rentalsService) {\n    this.sessionService = sessionService;\n    this.rentalsService = rentalsService;\n    this.rentals$ = this.rentalsService.all();\n  }\n\n  get user() {\n    return this.sessionService.user;\n  }\n\n}\n\nListComponent.ɵfac = function ListComponent_Factory(t) {\n  return new (t || ListComponent)(i0.ɵɵdirectiveInject(i1.SessionService), i0.ɵɵdirectiveInject(i2.RentalsService));\n};\n\nListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListComponent,\n  selectors: [[\"app-list\"]],\n  decls: 13,\n  vars: 3,\n  consts: [[1, \"list\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"space-between center\"], [1, \"m0\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"routerLink\", \"create\"], [1, \"ml1\"], [\"fxLayout\", \"row\", \"fxLayout.lt-md\", \"column\", 1, \"items\", \"mt2\"], [\"class\", \"item\", \"fxFlex\", \"\", 4, \"ngFor\", \"ngForOf\"], [\"fxFlex\", \"\", 1, \"item\"], [3, \"ownerId\"], [\"mat-card-image\", \"\", \"alt\", \"Rental picture\", 3, \"src\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"routerLink\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"routerLink\", 4, \"ngIf\"]],\n  template: function ListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-card\")(2, \"mat-card-header\", 1)(3, \"mat-card-title\", 2);\n      i0.ɵɵtext(4, \"Rentals available\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"button\", 3)(6, \"mat-icon\");\n      i0.ɵɵtext(7, \"add\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"span\", 4);\n      i0.ɵɵtext(9, \"Create\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(10, \"div\", 5);\n      i0.ɵɵtemplate(11, ListComponent_mat_card_11_Template, 17, 8, \"mat-card\", 6);\n      i0.ɵɵpipe(12, \"async\");\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      let tmp_0_0;\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngForOf\", (tmp_0_0 = i0.ɵɵpipeBind1(12, 1, ctx.rentals$)) == null ? null : tmp_0_0.rentals);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.DefaultLayoutDirective, i4.DefaultLayoutAlignDirective, i4.DefaultFlexDirective, i5.RouterLink, i6.OwnerInfoComponent, i7.MatButton, i8.MatCard, i8.MatCardHeader, i8.MatCardContent, i8.MatCardTitle, i8.MatCardSubtitle, i8.MatCardActions, i8.MatCardImage, i9.MatIcon, i3.AsyncPipe],\n  styles: [\".list[_ngcontent-%COMP%] {\\n  margin: 20px;\\n}\\n.list[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%] {\\n  gap: 2rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFBO0FBQ0o7QUFDSTtFQUNJLFNBQUE7QUFDUiIsImZpbGUiOiJsaXN0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxpc3Qge1xuICAgIG1hcmdpbjogMjBweDtcblxuICAgIC5pdGVtcyB7XG4gICAgICAgIGdhcDogMnJlbTtcbiAgICB9XG59XG4iXX0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;IA4BoBA,mCACwC,CADxC,EACwC,UADxC;IAEcA;IAAIA;IACdA;IAAkBA;IAAIA;;;;;IAFtBA;;;;;;;;;;IAnBZA,oCAAiF,CAAjF,EAAiF,iBAAjF,EAAiF,CAAjF,EAAiF,gBAAjF;IAEwBA;IAAiBA;IACjCA;IACIA;IACJA;IAEJA;IACAA,yCAAkB,CAAlB,EAAkB,GAAlB;IAEQA;IACJA;IAEJA,0CAAkB,EAAlB,EAAkB,QAAlB,EAAkB,EAAlB,EAAkB,EAAlB,EAAkB,UAAlB;IAEkBA;IAAMA;IAChBA;IAAkBA;IAAMA;IAE5BA;IAKJA;;;;;;IArBoBA;IAAAA;IAEIA;IAAAA;IAGJA;IAAAA;IAGZA;IAAAA;IAIsCA;IAAAA;IAIjCA;IAAAA;;;;AClB7B,OAAM,MAAOC,aAAP,CAAoB;EAIxBC,YACUC,cADV,EAEUC,cAFV,EAEwC;IAD9B;IACA;IAJH,gBAAW,KAAKA,cAAL,CAAoBC,GAApB,EAAX;EAKF;;EAEG,IAAJC,IAAI;IACN,OAAO,KAAKH,cAAL,CAAoBG,IAA3B;EACD;;AAXuB;;;mBAAbL,eAAaD;AAAA;;;QAAbC;EAAaM;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV1BX,+BAAkB,CAAlB,EAAkB,UAAlB,EAAkB,CAAlB,EAAkB,iBAAlB,EAAkB,CAAlB,EAAkB,CAAlB,EAAkB,gBAAlB,EAAkB,CAAlB;MAGuCA;MAAiBA;MAC5CA,kCAA8D,CAA9D,EAA8D,UAA9D;MACcA;MAAGA;MACbA;MAAkBA;MAAMA;MAGhCA;MACIA;;MAyBJA;;;;;MAzB8CA;MAAAA","names":["i0","ListComponent","constructor","sessionService","rentalsService","all","user","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/edouard/projects/springsecurityauth/front/src/app/features/rentals/components/list/list.component.html","/home/edouard/projects/springsecurityauth/front/src/app/features/rentals/components/list/list.component.ts"],"sourcesContent":["<div class=\"list\">\n    <mat-card>\n        <mat-card-header fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n            <mat-card-title class=\"m0\">Rentals available</mat-card-title>\n            <button mat-raised-button color=\"primary\" routerLink=\"create\">\n                <mat-icon>add</mat-icon>\n                <span class=\"ml1\">Create</span>\n            </button>\n        </mat-card-header>\n        <div class=\"items mt2\" fxLayout=\"row\" fxLayout.lt-md=\"column\">\n            <mat-card class=\"item\" *ngFor=\"let rental of (rentals$ | async)?.rentals\" fxFlex>\n                <mat-card-header>\n                    <mat-card-title>{{ rental.name }}</mat-card-title>\n                    <mat-card-subtitle>\n                        <app-owner-info [ownerId]=\"rental.owner_id\"></app-owner-info>\n                    </mat-card-subtitle>\n                </mat-card-header>\n                <img mat-card-image [src]=\"rental.picture\" alt=\"Rental picture\">\n                <mat-card-content>\n                    <p>\n                        {{ rental.description }}\n                    </p>\n                </mat-card-content>\n                <mat-card-actions>\n                    <button mat-raised-button color=\"primary\" [routerLink]=\"['detail',rental.id]\">\n                        <mat-icon>search</mat-icon>\n                        <span class=\"ml1\">Detail</span>\n                    </button>\n                    <button *ngIf=\"rental.owner_id === user?.id\" mat-raised-button color=\"primary\"\n                        [routerLink]=\"['update',rental.id]\">\n                        <mat-icon>edit</mat-icon>\n                        <span class=\"ml1\">Edit</span>\n                    </button>\n                </mat-card-actions>\n            </mat-card>\n        </div>\n    </mat-card>\n</div>","import { Component } from '@angular/core';\nimport { User } from 'src/app/interfaces/user.interface';\nimport { SessionService } from 'src/app/services/session.service';\nimport { RentalsService } from '../../services/rentals.service';\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.scss']\n})\nexport class ListComponent {\n\n  public rentals$ = this.rentalsService.all();\n\n  constructor(\n    private sessionService: SessionService,\n    private rentalsService: RentalsService\n  ) { }\n\n  get user(): User | undefined {\n    return this.sessionService.user;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}